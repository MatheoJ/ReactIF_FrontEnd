<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
      lang="fr">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <title>React'IF</title>
        <meta name="description" content="A concierge service" />
        <meta name="author" content="Mathéo JOSEPH, Antonin MARXER, " />

        <meta property="og:title" content="React'If" />
        <meta property="og:type" content="website" />
        <meta property="og:description" content="A concierge service" />

        <!--
        <meta property="og:image" content="image.png" />
    
        <link rel="icon" href="/favicon.ico" />
        <link rel="icon" href="/favicon.svg" type="image/svg+xml" />
        <link rel="apple-touch-icon" href="/apple-touch-icon.png" />
        -->

        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" />
        <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@500&display=swap" rel="stylesheet" />

        <link rel="stylesheet" href="../css/styles.css?v=1.0" />
        <link rel="stylesheet" href="../css/client.css?v=1.0" />
        <link rel="stylesheet" href="../css/chart.css?v=1.0" />

        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/alertifyjs@1.8.0/build/css/alertify.min.css" />
        <script src="//cdn.jsdelivr.net/npm/alertifyjs@1.13.1/build/alertify.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/what-input/4.2.0/what-input.min.js" integrity="sha256-7wGy9IEPmo9Jk/I86siWbZFPeclfjFitAAfmvxBUc7k=" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/foundation-sites@6.7.4/dist/js/foundation.min.js" crossorigin="anonymous"></script>

        <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

        <script type="module" src="../scripts/client.js"></script>
        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous" />

    </head>
    <body>
        <nav class="nav-menu">
            <p class="title-menu">REACT'IF</p>
            <ul class="sidebar-menu">
                <li><span class="nav-section-title"></span></li>
                <li><a class="box redirect-link" href="/profile" data-todo="profile"><img class="icon" src="../images/user-icon.svg"  alt="user image" /><span>Profil</span></a></li>
                <li><a class="box redirect-link" href="/history" data-todo="history"><img class="icon" src="../images/history.svg"  alt="user image" /><span>Historique des interventions</span></a></li>
                <li class="have-children"><a class="box" href="#"><img class="icon" src="../images/house-user.svg"  alt="user image" /><span>Demander une intervention</span></a>
                    <ul>
                        <li><a class="redirect-link" href="/intervention?type=animal" data-todo="intervention-animal">Intervention Animal</a></li>
                        <li><a class="redirect-link" href="/intervention?type=delivery" data-todo="intervention-delivery">Intervention Livraison</a></li>
                        <li><a class="redirect-link" href="/intervention?type=incident" data-todo="intervention-incident">Intervention Incident</a></li>
                    </ul>
                </li>
            </ul>
            <button class="disconnect">Deconnexion</button>
        </nav>
        <div id="content">
            <div id="profile" style="display: none;">
                <div class="profile-header">
                    <h1 id="profile-name"></h1>
                    <img src="../images/user-profile.svg"  alt="user image" />
                </div>
                <div class="tile current-intervention">
                    <h2 id="current-intervention-status">Aucune intervention en cours</h2>
                    <div id="current-intervention-list">
                    </div>
                    </ul>
                </div>
                <div class="information-wrapper">
                    <div class="tile statistics">
                        <h2>Statistiques</h2>
                        <!-- PIE CHART -->
                        <div class="content__chart">

                            <div class="counter__block">
                                <p class="counterTotal" id="intervention_number">0</p>
                                <p class="activeUser">Nombre total d'interventions</p>
                            </div>

                            <div class="chart-wrapper">
                                <canvas id="myChart"></canvas>
                            </div>

                            <div class="legend">
                                <div class="legend__item">
                                    <div class="legend__percentage" id="percentage_animal"></div>
                                    <span class="circle" id="circle__animal"></span>
                                    <p class="legend__text">ANIMAL</p>
                                </div>
                                <div class="legend__item">
                                    <div class="legend__percentage" id="percentage_delivery"></div>
                                    <span class="circle" id="circle__delivery"></span>
                                    <p class="legend__text">LIVRAISON</p>
                                </div>
                                <div class="legend__item">
                                    <div class="legend__percentage" id="percentage_incident"></div>
                                    <span class="circle" id="circle__incident"></span>
                                    <p class="legend__text">INCIDENT</p>
                                </div>
                            </div>

                            <p style="text-align: right;"><br /><a class="redirect-link" href="/history" data-todo="history">Voir l'historique complet</a></p>

                        </div>
                    </div>
                    <div class="tile personal_data">
                        <h2>Informations personnelles</h2>

                        <p class="tile-text">
                            <span class="bold">Téléphone :</span>
                            <br />
                            <span id="phone_number"></span>
                            <br />
                            <br />
                            <span class="bold">Adresse postale :</span>
                            <br />
                            <span id="address"></span>
                            <br />
                            <br />
                            <span class="bold">Adresse électronique :</span>
                            <br />
                            <span id="email"></span>
                            <br />
                            <br />
                            <span class="bold">Date d'inscription :</span>
                            <br />
                            <span id="signup_date"></span>
                        </p>
                    </div>
                </div>
            </div>
            <div id="history" style="display: none;">
                <div class="tile history">
                    <h2>Historique des interventions</h2>
                    <table class="table" id="history-table">
                        <tr>
                            <th>Type</th>
                            <th>Date demande</th>
                            <th>Etat</th>
                            <th>Date clôture</th>
                            <th>Statut</th>
                            <th>Employé</th>
                            <th>Animal</th>
                            <th>Entreprise</th>
                            <th>Objet</th>
                        </tr>
                    </table>
                </div>
            </div>
            <div id="intervention-animal" style="display: none;">
                <div class="tile intervention">
                    <div class="fields">
                        <div class="pair">
                            <span class="bold">Type:</span>
                            <span class="grey bold">Animal</span>
                        </div>
                        <div class="pair">
                            <span class="bold">Animal:</span>
                            <input class="rounded-input" id="animal-species" type="text" value="" placeholder="Chien"/>
                        </div>
                        <div class="pair">
                            <span class="bold">Description</span>
                            <textarea class="rounded-input" id="animal-description" name="description" 
                                      rows="5" cols="33"></textarea>
                        </div>
                    </div>
                    <div class="centered">
                        <button class="rounded-button send-intervention" data-todo="intervention-animal">Envoyer</button>
                    </div>
                </div>
            </div>
            <div id="intervention-delivery" style="display: none;">
                <div class="tile intervention">
                    <div class="fields">
                        <div class="pair">
                            <span class="bold">Type:</span>
                            <span class="grey bold">Livraison</span>
                        </div>
                        <div class="pair">
                            <span class="bold">Objet:</span>
                            <input class="rounded-input" id="delivery-object" type="text" value="" placeholder="Canapé"/>
                        </div>
                        <div class="pair">
                            <span class="bold">Entreprise:</span>
                            <input class="rounded-input" id="delivery-company" type="text" value="" placeholder="JOLISMEUBLE SA"/>
                        </div>
                        <div class="pair">
                            <span class="bold">Description</span>
                            <textarea class="rounded-input" id="delivery-description" name="description" 
                                      rows="5" cols="33"></textarea>
                        </div>
                    </div>
                    <div class="centered">
                        <button class="rounded-button send-intervention" data-todo="intervention-delivery">Envoyer</button>
                    </div>
                </div>
            </div>
            <div id="intervention-incident" style="display: none;">
                <div class="tile intervention">
                    <div class="fields">
                        <div class="pair">
                            <span class="bold">Type:</span>
                            <span class="grey bold">Incident</span>
                        </div>
                        <div class="pair">
                            <span class="bold">Description</span>
                            <textarea class="rounded-input" id="incident-description" name="description" 
                                      rows="5" cols="33"></textarea>
                        </div>
                    </div>
                    <div class="centered">
                        <button class="rounded-button send-intervention" data-todo="intervention-incident">Envoyer</button>
                    </div>
                </div>
            </div>
        </div>
    </body>
</html>
